# Software Architecture isn't ready (Draft 3)

**Best practices in Flutter**:
Needed practices:
- Foldes structure<br>
TODO: complite folder strucure<br>
lib/<br>
&nbsp;&nbsp;&nbsp;&nbsp;common/<br>
&nbsp;&nbsp;&nbsp;&nbsp;services/<br>
&nbsp;&nbsp;&nbsp;&nbsp;features/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assets/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screens/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;widgets/<br>
- [BLoC](bloclibrary.dev)
- DI in Flutter:
  - [GetIt](https://pub.dev/packages/get_it)
  - [Injectable](https://pub.dev/packages/injectable)
- Example of flutter app [code design](https://tech.tamara.co/architect-your-flutter-app-the-clean-way-with-bloc-703e6a8c2d23)

<br>

**flutter communication with android service**:<br>
TODO: complite communication interface<br>
Event "New package is ready"<br>
Function "Is there an undelivered package?"<br>
Function "Get next package"<br>
Function "Confirm package delivery (package token)"<br>
<br>
Package format:<br>
json<br>
{<br>
token: string - a token string that identifies the package, it is randomly generated by the service<br>
events: array of events<br>
}<br>
<br>
Event format:<br>
json<br>
{
type ID: int - a predefined number that identifies the event type<br>
data: json object with some event data (default value is null)<br>
}<br>

<br>

[Architecture in pictures](https://app.diagrams.net/#G17zhYh2qk37QgLhyynme0vzYZO9Z538Fd) on draw.io.

